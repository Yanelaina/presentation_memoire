
<!-- ============================================= -->
<!-- SECTION B: CHOIX SCIENTIFIQUES -->
<!-- ============================================= -->

<!-- SLIDE B1: Pourquoi le goutte-√†-goutte ? -->
<section>
    <section data-background-color="#fbfbfb">
        <h4 style="color: #0B3D5B; border-bottom: 3px solid #6B8E23; padding-bottom: 10px;">
            Pourquoi l'irrigation goutte-√†-goutte ?
        </h4>

        <!-- Badge d'efficacit√© -->
        <div class="efficiency-badge fragment fade-in" data-fragment-index="0">
            <div class="number">90%</div>
            <div style="font-size: 0.6em;">d'efficacit√©</div>
        </div>

        <!-- B√©n√©fices cl√©s -->
        <div class="drip-irrigation-benefits">
            <div class="benefit-card fragment fade-right" data-fragment-index="1">
                <div class="benefit-icon">üíß</div>
                <div class="benefit-content">
                    <h5>Efficience hydrique maximale</h5>
                    <p>
                        Contrairement aux m√©thodes par aspersion ou inondation, le goutte-√†-goutte
                        <strong style="color: #10b981;">atteint plus de 90 % d'efficacit√©</strong>
                        en apportant l'eau directement √† la zone racinaire, minimisant l'√©vaporation et le
                        ruissellement.
                    </p>
                    <p style="margin: 2px 0 0 0; font-size: 0.48em; color: #0B3D5B; font-style: italic; text-align: right;">
                        Source : Karimov et al., (2025)
                    </p>
                </div>
            </div>

            <div class="benefit-card fragment fade-right" data-fragment-index="2">
                <div class="benefit-icon">üéØ</div>
                <div class="benefit-content">
                    <h5>Application localis√©e et pr√©cise</h5>
                    <p>
                        L'eau est d√©livr√©e <strong style="color: #3b82f6;">point par point, autour de chaque
                            goutteur</strong>,
                        cr√©ant des zones d'humidit√© sp√©cifiques (bulbes d'humectation) adapt√©es aux besoins de la
                        plante.
                    </p>
                </div>
            </div>

            <div class="benefit-card fragment fade-right" data-fragment-index="3">
                <div class="benefit-icon">üî¨</div>
                <div class="benefit-content">
                    <h5>Exigence de mod√©lisation fine</h5>
                    <p>
                        Cette efficacit√© impose une <strong style="color: #d97706;">repr√©sentation d√©taill√©e de la
                            dynamique hydrique</strong>,
                        car l'infiltration n'est plus uniforme mais localis√©e autour de chaque √©metteur.
                    </p>
                </div>
            </div>
        </div>

        <aside class="notes">
            Nous avons choisi de centrer notre √©tude sur l'irrigation localis√©e, en particulier le goutte-√†-goutte,
            car c'est la technique la plus efficiente pour l'usage de l'eau en agriculture.
            <br><br>
            Contrairement aux m√©thodes par aspersion ou inondation, o√π une grande partie de l'eau se perd par
            √©vaporation ou ruissellement, le goutte-√†-goutte permet d'atteindre, selon KARIMOV et al., 2025,
            des efficacit√©s de plus de 90 %, en apportant l'eau directement √† la zone racinaire.
            <br><br>
            Mais cette efficacit√© a un prix : elle impose une repr√©sentation fine de la dynamique de l'eau dans le sol,
            car l'infiltration ne se fait plus de mani√®re uniforme, mais autour de chaque goutteur.
        </aside>
    </section>

    <!-- SLIDE B2: Le bulbe d'humectation -->
    <section data-background-color="#fbfbfb">
        <h4 style="color: #0B3D5B; border-bottom: 3px solid #6B8E23; padding-bottom: 10px; margin-bottom: 20px;">
            Le bulbe d'humectation ‚Äî c≈ìur de la dynamique hydrique
        </h4>

        <p
            style="font-size: 0.6em; color: #475569; text-align: center; margin-bottom: 30px; max-width: 800px; margin-left: auto; margin-right: auto;">
            Chaque goutteur cr√©e une <strong style="color: #3b82f6;">zone d'humidit√© sp√©cifique</strong>,
            dont la forme d√©pend des propri√©t√©s du sol et du d√©bit d'irrigation.
        </p>

        <!-- Animation du bulbe d'humectation -->
        <div class="wetting-bulb-container fragment fade-in" data-fragment-index="1">
            <img src="assets/animations/wetting_bulb_animation.gif"
                alt="Animation de l'√©volution du bulbe d'humectation" style="max-height: 500px; object-fit: contain;">
            <div class="wetting-bulb-caption">
                <strong>Figure :</strong> √âvolution temporelle du bulbe d'humectation autour d'un goutteur
                (coordonn√©es axisym√©triques r-z). Les iso-contours repr√©sentent la teneur en eau volumique Œ∏.
                La zone en pointill√©s verts d√©limite la zone racinaire active.
            </div>
        </div>

        <!-- Point cl√© -->
        <!-- <div class="fragment fade-up" data-fragment-index="2"
            style="margin-top: 25px; padding: 20px 30px; background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%); 
                                border-left: 5px solid #3b82f6; border-radius: 10px; max-width: 850px; margin-left: auto; margin-right: auto;">
            <p style="margin: 0; font-size: 0.4em; color: #1e3a8a; line-height: 1.7; text-align: left;">
                <strong style="font-size: 1.1em;">üí° Point cl√© :</strong>
                La compr√©hension et la simulation du bulbe d'humectation sont essentielles pour
                <strong>pr√©dire correctement la disponibilit√© en eau pour la plante</strong>.
                Cette approche s'oppose aux r√©servoirs homog√®nes des mod√®les "bucket".
            </p>
        </div> -->

        <aside class="notes">
            Plus concr√®tement, comme vous pouvez l'observer √† la figure, l'irrigation au goutte-√†-goutte
            cr√©e une zone humide sp√©cifique autour de chaque goutteur que nous appelons le bulbe d'humectation.
            <br><br>
            La compr√©hension et la simulation du bulbe d'humectation sont donc essentielles pour pr√©dire
            correctement la disponibilit√© en eau pour la plante.
            <br><br>
            C'est cette approche, qui s'oppose aux r√©servoirs homog√®nes d√©crits par les mod√®les de type "bucket",
            qui nous a conduits √† utiliser un mod√®le physique robuste de l'infiltration : l'√©quation de Richards.
        </aside>
    </section>

    <!-- SLIDE B2v: Les limites du mod√®le "Bucket" (Verticale) -->
    <section data-background-color="#fbfbfb">
        <h6 style="color: #0B3D5B; border-bottom: 2px solid #ef4444; padding-bottom: 8px;">
            Les limites du mod√®le ¬´ bucket ¬ª
        </h6>

        <!-- Animation de comparaison -->
        <div class="bucket-bulb-comparison">
            <img src="assets/animations/bucket_vs_bulb_comparison.gif"
                alt="Comparaison mod√®le bucket vs bulbe d'humectation" style="max-height: 450px; object-fit: contain;">
        </div>

        <!-- Points de limitation -->
        <div
            style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 20px; max-width: 950px; margin-left: auto; margin-right: auto;">
            <div 
                style="background: #fef2f2; padding: 8px; border-radius: 10px; border-top: 4px solid #ef4444;">
                <!-- <div style="text-align: center; font-size: 1em; margin-bottom: 10px;">‚ùå</div> -->
                <h6 style="margin: 0 0 8px 0; color: #991b1b; font-size: 0.6em; text-align: center;">
                    Stockage homog√®ne
                </h6>
                <p style="margin: 0; font-size: 0.4em; color: #7f1d1d; line-height: 1.5; text-align: center;">
                    Pas de gradient spatial d'humidit√©
                </p>
            </div>

            <div 
                style="background: #fef2f2; padding: 8px; border-radius: 10px; border-top: 4px solid #ef4444;">
                <!-- <div style="text-align: center; font-size: 1em; margin-bottom: 10px;">‚ö†Ô∏è</div> -->
                <h6 style="margin: 0 0 8px 0; color: #991b1b; font-size: 0.6em; text-align: center;">
                    Infiltration uniforme
                </h6>
                <p style="margin: 0; font-size: 0.4em; color: #7f1d1d; line-height: 1.5; text-align: center;">
                    Inadapt√© au goutte-√†-goutte
                </p>
            </div>

            <div 
                style="background: #fef2f2; padding: 8px; border-radius: 10px; border-top: 4px solid #ef4444;">
                <!-- <div style="text-align: center; font-size: 1em; margin-bottom: 10px;">üìä</div> -->
                <h6 style="margin: 0 0 8px 0; color: #991b1b; font-size: 0.5em; text-align: center;">
                    Extraction racinaire uniforme
                </h6>
                <p style="margin: 0; font-size: 0.4em; color: #7f1d1d; line-height: 1.5; text-align: center;">
                    Ne refl√®te pas la r√©alit√© du sol
                </p>
            </div>
        </div>

        <!-- Conclusion -->
        <div class="comparison-note">
            <strong>‚Üí Pourquoi il faut Richards :</strong>
            Pour repr√©senter fid√®lement la dynamique hydrique localis√©e, nous avons besoin d'un mod√®le
            qui capture les <strong>gradients spatiaux</strong> et temporels de l'humidit√© du sol.
            C'est pr√©cis√©ment ce que permet l'√©quation de Richards.
        </div>

        <aside class="notes">
            Cette animation montre clairement la diff√©rence fondamentale entre les deux approches.
            <br><br>
            √Ä gauche, le mod√®le bucket traite le sol comme un r√©servoir homog√®ne o√π l'eau se r√©partit uniform√©ment
            dans chaque couche. C'est une simplification pratique mais qui ne correspond pas √† la r√©alit√© de
            l'irrigation localis√©e.
            <br><br>
            √Ä droite, le bulbe d'humectation montre que l'eau cr√©e un gradient radial d'humidit√©, avec des zones
            tr√®s humides pr√®s du goutteur et des zones s√®ches plus √©loign√©es.
            <br><br>
            C'est cette r√©alit√© physique que nous devons capturer pour simuler correctement l'irrigation
            goutte-√†-goutte,
            et c'est pourquoi nous utilisons l'√©quation de Richards.
        </aside>
    </section>
</section>


<!-- Slide B3: L'√©quation de Richards -->
<section>
    <section data-background-color="#fbfbfb">
        <h6 style="color: #0B3D5B; border-bottom: 3px solid #6B8E23; padding-bottom: 10px; margin-bottom: 0px;">
            L'√©quation de Richards
        </h6>

        <!-- Figure principale agrandie -->
        <div class="fragment fade-in" data-fragment-index="1" style="text-align: center; margin-bottom: 0px;">
            <img src="assets/richards.png" 
                alt="Volume √©l√©mentaire repr√©sentatif - √âquation de Richards" 
                style="width: 70%; max-width: 1150px; border-radius: 10px; box-shadow: 0 6px 20px rgba(0,0,0,0.12);">
            <p style="font-size: 0.35em; color: #64748b; margin-top: 0px; font-style: italic; line-height: 1.6; max-width: 900px;">
                <strong>Figure :</strong> D√©rivation de l'√©quation de Richards √† partir du volume √©l√©mentaire repr√©sentatif (VER) ‚Äî 
                Conservation de masse + Loi de Darcy g√©n√©ralis√©e
            </p>
        </div>

        <!-- √âquation de Richards finale -->
        <div class="fragment fade-up" data-fragment-index="2" 
            style="padding: 15px 25px; background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%); 
                    border: 3px solid #f59e0b; border-radius: 12px; max-width: 600px; margin: 0 auto;">
            <h6 style="color: #92400e; font-size: 0.55em; margin: 0 0 20px 0; font-weight: 700; text-align: center;">
                ‚ö° √âquation de Richards (forme head-based 2D axisym√©trique)
            </h6>
            <div style="font-size: 0.5em; color: #1e293b; text-align: center;">
                \[
                \frac{\partial \theta}{\partial t} = \frac{1}{r}\frac{\partial}{\partial r}\left(r K(\theta)\frac{\partial h}{\partial r}\right) + \frac{\partial}{\partial z}\left[K(\theta)\left(\frac{\partial h}{\partial z} + 1\right)\right] + S
                \]
            </div>
            <p style="font-size: 0.45em; color: #78350f; margin: 10px 0 0 0; text-align: center; line-height: 1.5;">
                <strong>EDP non-lin√©aire</strong> ‚Äî Relations constitutives : \(\theta(h)\), \(K(\theta)\) (van Genuchten-Mualem)
            </p>
        </div>

        <!-- Note de synth√®se
        <div class="fragment fade-in" data-fragment-index="3" 
            style="margin-top: 30px; padding: 15px 30px; background: #f8fafc; border-radius: 8px; 
                    border-top: 2px solid #cbd5e1; max-width: 1000px; margin-left: auto; margin-right: auto;">
            <p style="margin: 0; font-size: 0.62em; color: #475569; text-align: center; line-height: 1.7;">
                <strong style="color: #0B3D5B;">Pourquoi Richards ?</strong> 
                Cette EDP capture les <strong>gradients spatiaux 2D</strong> du bulbe d'humectation 
                que les mod√®les bucket ne peuvent repr√©senter ‚Äî fondement physique du jumeau num√©rique
            </p>
        </div> -->

        <aside class="notes">
            Alors pourquoi l'√©quation de Richards ? Regardons ce cube de sol √©l√©mentaire.
            <br><br>
            Nous appliquons deux principes physiques fondamentaux : 
            <br><br>
            D'abord, la loi de Darcy g√©n√©ralis√©e, qui nous dit que le flux d'eau q d√©pend de la conductivit√© 
            hydraulique K(Œ∏) et du gradient de charge hydraulique H.
            <br><br>
            Ensuite, la conservation de la masse : la variation temporelle de l'humidit√© Œ∏ √©gale moins la 
            divergence du flux plus un terme source S.
            <br><br>
            En combinant ces deux principes, on obtient l'√©quation de Richards sous forme mixte 2D axisym√©trique, 
            adapt√©e √† notre g√©om√©trie de goutteur. Vous voyez ici les termes radiaux et verticaux qui capturent 
            la diffusion de l'eau dans toutes les directions.
            <br><br>
            La grande complexit√© vient de la non-lin√©arit√© : les relations de van Genuchten-Mualem donnent Œ∏(h) 
            et K(Œ∏), avec des √©quations fortement non-lin√©aires. Par exemple, K peut varier sur plusieurs ordres 
            de grandeur entre sol sec et satur√©.
            <br><br>
            Cette EDP non-lin√©aire capture les gradients spatiaux du bulbe d'humectation que le mod√®le bucket 
            ne peut pas repr√©senter. C'est notre fondation physique.
        </aside>
    </section>

    <!-- Slide B3v: Non-lin√©arit√© et relations de van Genuchten (Verticale) -->
    <section data-background-color="#fbfbfb">
        <h6 style="color: #0B3D5B; border-bottom: 2px solid #ef4444; padding-bottom: 8px; margin-bottom: 25px;">
            La non-lin√©arit√© de Richards ‚Äî Relations constitutives
        </h6>

        <p style="font-size: 0.6em; color: #475569; text-align: center; margin-bottom: 25px; max-width: 950px; margin-left: auto; margin-right: auto; line-height: 1.6;">
            La complexit√© de l'√©quation de Richards r√©side dans les <strong style="color: #ef4444;">relations constitutives fortement non-lin√©aires</strong> 
            qui relient teneur en eau \(\theta\), potentiel de pression \(h\), et conductivit√© hydraulique \(K\).
        </p>

        <!-- Mod√®le van Genuchten-Mualem -->
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 25px; max-width: 1100px; margin: 0 auto 25px auto;">
            
            <!-- Colonne gauche : Courbe de r√©tention -->
            <div class="fragment fade-right" data-fragment-index="1" 
                style="padding: 20px 25px; background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%); 
                        border: 3px solid #3b82f6; border-radius: 10px;">
                <h6 style="color: #1e3a8a; font-size: 0.7em; margin: 0 0 15px 0; font-weight: 700; text-align: center;">
                    1Ô∏è‚É£ Courbe de r√©tention (SWRC)
                </h6>
                <div style="font-size: 0.65em; color: #1e293b; text-align: center;">
                    \[
                    \theta(h) = \theta_r + \frac{\theta_s - \theta_r}{\left[1 + (\alpha |h|)^n\right]^m}
                    \]
                </div>
                <p style="font-size: 0.45em; color: #1e3a8a; margin: 12px 0 0 0; text-align: center; line-height: 1.5;">
                    o√π \(m = 1 - 1/n\)<br>
                    <strong>Effet :</strong> Relation sigmo√Ødale \(\theta(h)\) ‚Äî l'eau retenue d√©pend exponentiellement de la succion
                </p>
            </div>

            <!-- Colonne droite : Conductivit√© hydraulique -->
            <div class="fragment fade-left" data-fragment-index="1" 
                style="padding: 20px 25px; background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%); 
                        border: 3px solid #10b981; border-radius: 10px;">
                <h6 style="color: #065f46; font-size: 0.7em; margin: 0 0 15px 0; font-weight: 700; text-align: center;">
                    2Ô∏è‚É£ Conductivit√© hydraulique (HCF)
                </h6>
                <div style="font-size: 0.65em; color: #1e293b; text-align: center;">
                    \[
                    K(h) = K_s \cdot S_e^\ell \cdot \left[1 - \left(1 - S_e^{1/m}\right)^m\right]^2
                    \]
                </div>
                <p style="font-size: 0.45em; color: #065f46; margin: 12px 0 0 0; text-align: center; line-height: 1.5;">
                    o√π \(S_e = \frac{\theta - \theta_r}{\theta_s - \theta_r}\), \(\ell = 0.5\)<br>
                    <strong>Effet :</strong> \(K\) peut varier de <strong>6-10 ordres de grandeur</strong> entre sec et satur√© !
                </p>
            </div>
        </div>

        <!-- Param√®tres du mod√®le -->
        <div class="fragment fade-up" data-fragment-index="1" 
            style="padding: 18px 25px; background: #fef3c7; border-left: 5px solid #f59e0b; border-radius: 8px; 
                    max-width: 1100px; margin: 0 auto 20px auto;">
            <h6 style="color: #92400e; font-size: 0.65em; margin: 0 0 10px 0; font-weight: 700;">
                üìä Param√®tres du mod√®le van Genuchten-Mualem
            </h6>
            <div style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 15px; font-size: 0.45em; color: #78350f;">
                <div style="text-align: center;">
                    <strong>\(\theta_r\)</strong><br>
                    Teneur en eau<br>r√©siduelle
                </div>
                <div style="text-align: center;">
                    <strong>\(\theta_s\)</strong><br>
                    Teneur en eau<br>√† saturation
                </div>
                <div style="text-align: center;">
                    <strong>\(\alpha\)</strong><br>
                    Inverse du potentiel<br>d'entr√©e d'air
                </div>
                <div style="text-align: center;">
                    <strong>\(n\)</strong><br>
                    Uniformit√© de<br>la distribution des pores
                </div>
                <div style="text-align: center;">
                    <strong>\(K_s\)</strong><br>
                    Conductivit√©<br>√† saturation
                </div>
            </div>
        </div>

        <!-- Implications num√©riques -->
        <div class="fragment fade-in" data-fragment-index="2" 
            style="padding: 15px 25px; background: linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%); 
                    border: 2px solid #ef4444; border-radius: 8px; max-width: 1100px; margin: 0 auto;">
            <p style="margin: 0; font-size: 0.48em; color: #7f1d1d; text-align: center; line-height: 1.6;">
                <strong style="font-size: 1.15em;">‚ö†Ô∏è Cons√©quence num√©rique :</strong><br>
                Cette non-lin√©arit√© extr√™me rend l'√©quation de Richards <strong>difficile √† r√©soudre num√©riquement</strong> ‚Äî
                n√©cessite des sch√©mas implicites, des pas de temps adaptatifs, et une r√©gularisation soigneuse
                pour √©viter les oscillations et garantir la convergence
            </p>
        </div>

        <aside class="notes">
            Maintenant, parlons de la non-lin√©arit√© qui rend l'√©quation de Richards si complexe √† r√©soudre.
            <br><br>
            Cette non-lin√©arit√© provient enti√®rement des relations constitutives, c'est-√†-dire les fonctions
            qui relient la teneur en eau, le potentiel de pression, et la conductivit√© hydraulique.
            <br><br>
            Le mod√®le de van Genuchten-Mualem, qui est la r√©f√©rence internationale, d√©finit deux relations cl√©s :
            <br><br>
            Premi√®rement, la courbe de r√©tention en eau, qui suit une forme sigmo√Ødale. Elle nous dit combien
            d'eau le sol peut retenir en fonction de la succion appliqu√©e. Les param√®tres alpha et n caract√©risent
            la structure poreuse du sol.
            <br><br>
            Deuxi√®mement, la fonction de conductivit√© hydraulique. Et c'est ici que la non-lin√©arit√© devient
            vraiment dramatique : la conductivit√© K peut varier de 6 √† 10 ordres de grandeur entre un sol sec
            et un sol satur√© ! Un sol sableux satur√© peut avoir K = 10^-4 m/s, mais √† peine d√©satur√©, K tombe
            √† 10^-10 m/s.
            <br><br>
            Ces variations extr√™mes rendent l'√©quation de Richards tr√®s difficile √† r√©soudre num√©riquement.
            Il faut des sch√©mas implicites sophistiqu√©s, des pas de temps adaptatifs, et une grande attention
            aux d√©tails num√©riques pour √©viter les oscillations et garantir la convergence.
            <br><br>
            C'est pr√©cis√©ment cette complexit√© qui justifie l'utilisation de solveurs num√©riques robustes et
            de m√©thodes d'√©l√©ments finis adapt√©es.
        </aside>
    </section>
</section>


<!-- Slide B4: Pourquoi AquaCrop (horizontal) -->
<section data-background-color="#fbfbfb">
    <h4 style="color: #0B3D5B; border-bottom: 2px solid #6B8E23; padding-bottom: 5px;">
        AquaCrop 
    </h4>

    <p style="font-size: 0.8em; color: #475569; max-width: 850px; margin: 20px auto 30px;">
        Un mod√®le de culture robuste, param√©trable et couplable avec Richards
    </p>

    <!-- Diagramme de flux AquaCrop -->
    <div style="max-width: 1100px; margin: 0 auto;">
        <svg viewBox="0 0 900 350" xmlns="http://www.w3.org/2000/svg" style="width: 100%; height: auto;">
            <defs>
                <linearGradient id="inputGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                    <stop offset="0%" style="stop-color:#dbeafe;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#bfdbfe;stop-opacity:1" />
                </linearGradient>
                <linearGradient id="processGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                    <stop offset="0%" style="stop-color:#dcfce7;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#bbf7d0;stop-opacity:1" />
                </linearGradient>
                <linearGradient id="outputGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                    <stop offset="0%" style="stop-color:#fef3c7;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#fde68a;stop-opacity:1" />
                </linearGradient>
                <marker id="arrow" markerWidth="8" markerHeight="8" refX="6" refY="3" orient="auto">
                    <polygon points="0 0, 8 3, 0 6" fill="#3b82f6" />
                </marker>
            </defs>

            <!-- INPUTS -->
            <g id="inputs">
                <rect x="20" y="50" width="200" height="250" rx="12" fill="url(#inputGrad)" stroke="#3b82f6"
                    stroke-width="3" />
                <text x="120" y="35" text-anchor="middle" fill="#1e3a8a" font-size="18" font-weight="bold">
                    üì• ENTR√âES
                </text>

                <!-- Items d'entr√©e -->
                <text x="120" y="80" text-anchor="middle" font-size="13" fill="#0B3D5B" font-weight="600">
                    üå§Ô∏è Climat (ETo)
                </text>
                <text x="120" y="120" text-anchor="middle" font-size="13" fill="#0B3D5B" font-weight="600">
                    üå± Param√®tres culture
                </text>
                <text x="120" y="160" text-anchor="middle" font-size="13" fill="#0B3D5B" font-weight="600">
                    üåæ Param√®tres sol
                </text>
                <text x="120" y="200" text-anchor="middle" font-size="13" fill="#0B3D5B" font-weight="600">
                    üíß Irrigation (Œ∏ profil)
                </text>
                <text x="120" y="240" text-anchor="middle" font-size="13" fill="#0B3D5B" font-weight="600">
                    üìÖ Gestion culture
                </text>

                <text x="120" y="275" text-anchor="middle" font-size="11" fill="#64748b" font-style="italic">
                    Peu de param√®tres
                </text>
            </g>

            <!-- PROCESSES -->
            <g id="processes">
                <rect x="300" y="50" width="300" height="250" rx="12" fill="url(#processGrad)" stroke="#10b981"
                    stroke-width="3" />
                <text x="450" y="35" text-anchor="middle" fill="#047857" font-size="18" font-weight="bold">
                    ‚öôÔ∏è PROCESSUS
                </text>

                <!-- Processes cl√©s -->
                <circle cx="380" cy="95" r="35" fill="#d1fae5" stroke="#10b981" stroke-width="2" />
                <text x="380" y="92" text-anchor="middle" font-size="11" fill="#047857" font-weight="600">
                    Croissance
                </text>
                <text x="380" y="105" text-anchor="middle" font-size="11" fill="#047857" font-weight="600">
                    canop√©e
                </text>

                <circle cx="520" cy="95" r="35" fill="#d1fae5" stroke="#10b981" stroke-width="2" />
                <text x="520" y="92" text-anchor="middle" font-size="11" fill="#047857" font-weight="600">
                    Transpiration
                </text>
                <text x="520" y="105" text-anchor="middle" font-size="11" fill="#047857" font-weight="600">
                    (Ks,x)
                </text>

                <circle cx="380" cy="175" r="35" fill="#d1fae5" stroke="#10b981" stroke-width="2" />
                <text x="380" y="172" text-anchor="middle" font-size="11" fill="#047857" font-weight="600">
                    Production
                </text>
                <text x="380" y="185" text-anchor="middle" font-size="11" fill="#047857" font-weight="600">
                    biomasse
                </text>

                <circle cx="520" cy="175" r="35" fill="#d1fae5" stroke="#10b981" stroke-width="2" />
                <text x="520" y="172" text-anchor="middle" font-size="11" fill="#047857" font-weight="600">
                    Stress
                </text>
                <text x="520" y="185" text-anchor="middle" font-size="11" fill="#047857" font-weight="600">
                    hydrique
                </text>

                <circle cx="450" cy="245" r="35" fill="#d1fae5" stroke="#10b981" stroke-width="2" />
                <text x="450" y="242" text-anchor="middle" font-size="11" fill="#047857" font-weight="600">
                    Allocation
                </text>
                <text x="450" y="255" text-anchor="middle" font-size="11" fill="#047857" font-weight="600">
                    biomasse
                </text>
            </g>

            <!-- OUTPUTS -->
            <g id="outputs">
                <rect x="680" y="50" width="200" height="250" rx="12" fill="url(#outputGrad)" stroke="#d97706"
                    stroke-width="3" />
                <text x="780" y="35" text-anchor="middle" fill="#92400e" font-size="18" font-weight="bold">
                    üì§ SORTIES
                </text>

                <!-- Items de sortie -->
                <text x="780" y="95" text-anchor="middle" font-size="13" fill="#0B3D5B" font-weight="600">
                    üåø Biomasse finale
                </text>
                <text x="780" y="135" text-anchor="middle" font-size="13" fill="#0B3D5B" font-weight="600">
                    üåæ Rendement (Y)
                </text>
                <text x="780" y="175" text-anchor="middle" font-size="13" fill="#0B3D5B" font-weight="600">
                    üíß Consommation eau
                </text>
                <text x="780" y="215" text-anchor="middle" font-size="13" fill="#0B3D5B" font-weight="600">
                    üìä Indices (WUE, CC)
                </text>

                <text x="780" y="265" text-anchor="middle" font-size="11" fill="#64748b" font-style="italic">
                    Productivit√© eau
                </text>
            </g>

            <!-- Fl√®ches de connexion -->
            <line x1="220" y1="150" x2="295" y2="150" stroke="#3b82f6" stroke-width="3" marker-end="url(#arrow)" />
            <line x1="605" y1="150" x2="675" y2="150" stroke="#3b82f6" stroke-width="3" marker-end="url(#arrow)" />
        </svg>
    </div>

    <!-- Avantages cl√©s -->
    <div class="richards-advantages">
        <div class="advantage-item">
            <div class="icon">üéØ</div>
            <h6>Simplicit√© param√©trique</h6>
            <p>~20 param√®tres robustes vs >100 pour mod√®les m√©canistes complets</p>
        </div>

        <div class="advantage-item">
            <div class="icon">üíß</div>
            <h6>Couplage hydrique natif</h6>
            <p>Interface Œ∏(z,t) directe avec Richards via stress Ks,x</p>
        </div>

        <div class="advantage-item">
            <div class="icon">üåç</div>
            <h6>Validation mondiale</h6>
            <p>FAO - Calibr√© sur >1000 sites, multiples cultures et climats</p>
        </div>
    </div>

    <aside class="notes">
        <p><strong>Script (1 min):</strong></p>
        <p>Pourquoi AquaCrop pour la composante culture ?</p>

        <p>Regardons l'architecture : AquaCrop prend des entr√©es simples ‚Äì climat (ETo), param√®tres
            de culture et de sol, profil d'humidit√© Œ∏(z,t) fourni par Richards, et gestion culturale.
            Il simule alors les processus cl√©s : croissance de la canop√©e, transpiration avec stress
            hydrique Ks,x, production de biomasse et allocation.</p>

        <p>Les sorties incluent biomasse, rendement Y, consommation d'eau, et indices comme WUE.</p>

        <p>Trois raisons majeures pour ce choix : d'abord, sa simplicit√© param√©trique ‚Äì environ
            20 param√®tres robustes au lieu de plus de 100 pour des mod√®les m√©canistes complets.
            Ensuite, son couplage hydrique natif : il interface directement avec le profil Œ∏(z,t)
            via le coefficient de stress Ks,x. Enfin, il a √©t√© valid√© par la FAO sur plus de 1000
            sites avec multiples cultures et climats. C'est un standard international.</p>
    </aside>
</section>

<section>
    <!-- B5: Pourquoi un couplage bidirectionnel ? -->
    <section data-background-color="#fbfbfb">
        <h5 style="color: #0B3D5B; border-bottom: 3px solid #6B8E23; padding-bottom: 10px; margin-bottom: 30px;">
            Pourquoi un couplage bidirectionnel ?
        </h5>

        <div style="max-width: 1000px; margin: 0 auto;">
            <!-- Introduction -->
            <p style="font-size: 0.75em; color: #475569; text-align: center; margin-bottom: 0px; line-height: 1.7;">
                Le sol influence la plante <strong style="color: #f59e0b;">‚Üî</strong>
                La plante r√©troagit sur le sol
            </p>

            <!-- Diagramme de boucle -->
            <div class="coupling-loop-container fragment fade-in" data-fragment-index="1">
                <svg width="900" height="300" viewBox="0 0 900 300" style="max-width: 100%;">
                    <!-- N≈ìud Richards (gauche) -->
                    <g>
                        <rect x="50" y="100" width="200" height="100" rx="15" fill="url(#grad-richards)"
                            stroke="#3b82f6" stroke-width="3" />
                        <text x="150" y="135" text-anchor="middle" font-size="20" font-weight="700" fill="#1e3a8a">
                            Richards 2D
                        </text>
                        <text x="150" y="160" text-anchor="middle" font-size="14" fill="#1e3a8a">
                            Dynamique hydrique
                        </text>
                        <text x="150" y="180" text-anchor="middle" font-size="13" fill="#475569" font-style="italic">
                            Œ∏(r, z, t)
                        </text>
                    </g>

                    <!-- N≈ìud AquaCrop (droite) -->
                    <g>
                        <rect x="650" y="100" width="200" height="100" rx="15" fill="url(#grad-aquacrop)"
                            stroke="#10b981" stroke-width="3" />
                        <text x="750" y="135" text-anchor="middle" font-size="20" font-weight="700" fill="#065f46">
                            AquaCrop
                        </text>
                        <text x="750" y="160" text-anchor="middle" font-size="14" fill="#065f46">
                            Croissance culture
                        </text>
                        <text x="750" y="180" text-anchor="middle" font-size="13" fill="#475569" font-style="italic">
                            LAI, Biomasse
                        </text>
                    </g>

                    <!-- Fl√®che avant (Richards ‚Üí AquaCrop) -->
                    <g class="fragment fade-in" data-fragment-index="2">
                        <defs>
                            <marker id="arrowhead-forward" markerWidth="10" markerHeight="10" refX="9" refY="3"
                                orient="auto">
                                <polygon points="0 0, 10 3, 0 6" fill="#f59e0b" />
                            </marker>
                        </defs>
                        <path class="coupling-arrow forward animate-forward" d="M 260 130 Q 450 80, 640 130"
                            marker-end="url(#arrowhead-forward)" />
                        <text x="450" y="70" class="coupling-arrow-label forward">
                            Humidit√© du sol Œ∏ ‚Üí Stress hydrique
                        </text>
                    </g>

                    <!-- Fl√®che retour (AquaCrop ‚Üí Richards) -->
                    <g class="fragment fade-in" data-fragment-index="3">
                        <defs>
                            <marker id="arrowhead-backward" markerWidth="10" markerHeight="10" refX="9" refY="3"
                                orient="auto">
                                <polygon points="0 0, 10 3, 0 6" fill="#8b5cf6" />
                            </marker>
                        </defs>
                        <path class="coupling-arrow backward animate-backward" d="M 640 170 Q 450 220, 260 170"
                            marker-end="url(#arrowhead-backward)" />
                        <text x="450" y="240" class="coupling-arrow-label backward">
                            Transpiration Tr ‚Üí Extraction racinaire
                        </text>
                    </g>

                    <!-- Gradients SVG -->
                    <defs>
                        <linearGradient id="grad-richards" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#dbeafe;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#93c5fd;stop-opacity:1" />
                        </linearGradient>
                        <linearGradient id="grad-aquacrop" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#d1fae5;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#86efac;stop-opacity:1" />
                        </linearGradient>
                    </defs>
                </svg>
            </div>

            <!-- Mention couplage unidirectionnel -->
            <div class="coupling-vs-box fragment fade-in" data-fragment-index="4">
                <p style="margin: 0; font-size: 1.1em;">
                    ‚ö†Ô∏è Contrairement aux approches <strong>unidirectionnelles</strong>
                    (ex: Kanda, 2021 : HYDRUS-2D ‚Üí AquaCrop)
                    <br>
                    <span style="color: #065f46; font-size: 0.9em; display: block; margin-top: 8px;">
                        ‚Üí Le couplage bidirectionnel permet un <strong>dialogue permanent</strong> entre les deux mod√®les
                    </span>
                </p>
            </div>
        </div>

        <aside class="notes">
            Enfin, pour relier ces deux mod√®les, nous avons adopt√© une approche de couplage bidirectionnel.
            <br><br>
            En effet, de nombreuses approches dans la litt√©rature ont tent√© de coupler les mod√®les de croissance
            v√©g√©tale et des solveurs bas√©s sur l'√©quation de Richards ! C'est le cas par exemple de Kanda en 2021
            qui a coupl√© le solveur HYDRUS 2D avec le mod√®le AquaCrop. Cependant la communication entre ces deux
            mod√®les est souvent unidirectionnelle : le mod√®le du sol fournit l'humidit√©, et le mod√®le de culture
            calcule ensuite la transpiration.
            <br><br>
            Or, dans la r√©alit√©, le sol influence la plante ET la plante influence r√©troactivement le sol.
            <br><br>
            Un couplage bidirectionnel permet donc √† AquaCrop d'ajuster la demande en eau selon la croissance
            r√©elle de la plante, tandis que Richards met √† jour en retour l'√©tat hydrique du sol selon cette demande.
            <br><br>
            C'est ce dialogue permanent entre les deux mod√®les qui rend la simulation plus coh√©rente physiquement.
        </aside>
    </section>


    <!-- B5v: Avantages du couplage bidirectionnel (verticale) -->
    <section data-background-color="#fbfbfb">
        <h6 style="color: #0B3D5B; border-bottom: 3px solid #6B8E23; padding-bottom: 10px; margin-bottom: 30px;">
            Avantages du couplage bidirectionnel
        </h6>

        <div class="coupling-advantages">
            <div class="coupling-advantage-card">
                <div class="icon">üîÑ</div>
                <div class="title">Coh√©rence physique</div>
                <div class="desc">
                    Les √©changes sol-plante sont <strong>mutuellement ajust√©s</strong>
                    √† chaque pas de temps
                </div>
            </div>

            <div class="coupling-advantage-card">
                <div class="icon">‚öñÔ∏è</div>
                <div class="title">Convergence accrue</div>
                <div class="desc">
                    La r√©troaction <strong>stabilise</strong> le syst√®me
                    et am√©liore la convergence num√©rique
                </div>
            </div>

            <div class="coupling-advantage-card">
                <div class="icon">üéØ</div>
                <div class="title">R√©alisme accru</div>
                <div class="desc">
                    Reproduit fid√®lement le <strong>continuum sol-plante-atmosph√®re</strong>
                    en conditions r√©elles
                </div>
            </div>
        </div>

        <!-- Sch√©ma de convergence -->
        <div class="fragment fade-in" data-fragment-index="1" style="margin-top: 40px; padding: 25px; background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%); 
                                border-radius: 12px; border-left: 5px solid #10b981;">
            <div style="display: flex; align-items: center; gap: 20px;">
                <div style="font-size: 3em;">‚úì</div>
                <div style="flex: 1;">
                    <p style="margin: 0; font-size: 0.75em; color: #065f46; font-weight: 600; line-height: 1.6;">
                        <strong>R√©sultat :</strong> Simulations plus <strong>stables</strong>,
                        <strong>pr√©cises</strong> et <strong>repr√©sentatives</strong>
                        des processus r√©els
                    </p>
                </div>
            </div>
        </div>

        <aside class="notes">
            Ce couplage bidirectionnel pr√©sente trois avantages majeurs.
            <br><br>
            Premi√®rement, la coh√©rence physique : les √©changes sol-plante sont mutuellement ajust√©s √† chaque pas de
            temps.
            <br><br>
            Deuxi√®mement, une meilleure convergence : la r√©troaction stabilise le syst√®me num√©rique.
            <br><br>
            Troisi√®mement, un r√©alisme accru : nous reproduisons fid√®lement le continuum sol-plante-atmosph√®re.
            <br><br>
            Au final, nous obtenons des simulations plus stables, pr√©cises et repr√©sentatives des processus r√©els.
        </aside>
    </section>

</section>

<!-- B5v: Avantages du couplage bidirectionnel (verticale) -->
<!-- <section data-background-color="#fbfbfb">
    <h6 style="color: #0B3D5B; margin-bottom: 25px;">
        Avantages du couplage bidirectionnel
    </h6>

    <div class="coupling-advantages">
        <div class="coupling-advantage-card fragment fade-up" data-fragment-index="1">
            <div class="icon">üîÑ</div>
            <div class="title">Coh√©rence physique</div>
            <div class="desc">
                Les √©changes sol-plante sont <strong>mutuellement ajust√©s</strong>
                √† chaque pas de temps
            </div>
        </div>

        <div class="coupling-advantage-card fragment fade-up" data-fragment-index="2">
            <div class="icon">‚öñÔ∏è</div>
            <div class="title">Convergence accrue</div>
            <div class="desc">
                La r√©troaction <strong>stabilise</strong> le syst√®me
                et am√©liore la convergence num√©rique
            </div>
        </div>

        <div class="coupling-advantage-card fragment fade-up" data-fragment-index="3">
            <div class="icon">üéØ</div>
            <div class="title">R√©alisme accru</div>
            <div class="desc">
                Reproduit fid√®lement le <strong>continuum sol-plante-atmosph√®re</strong>
                en conditions r√©elles
            </div>
        </div>
    </div> -->

    <!-- Sch√©ma de convergence -->
    <!-- <div class="fragment fade-in" data-fragment-index="4" style="margin-top: 40px; padding: 25px; background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%); 
                                border-radius: 12px; border-left: 5px solid #10b981;">
        <div style="display: flex; align-items: center; gap: 20px;">
            <div style="font-size: 3em;">‚úì</div>
            <div style="flex: 1;">
                <p style="margin: 0; font-size: 0.75em; color: #065f46; font-weight: 600; line-height: 1.6;">
                    <strong>R√©sultat :</strong> Simulations plus <strong>stables</strong>,
                    <strong>pr√©cises</strong> et <strong>repr√©sentatives</strong>
                    des processus r√©els
                </p>
            </div>
        </div>
    </div> -->

    <!-- <aside class="notes">
        Ce couplage bidirectionnel pr√©sente trois avantages majeurs.
        <br><br>
        Premi√®rement, la coh√©rence physique : les √©changes sol-plante sont mutuellement ajust√©s √† chaque pas de
        temps.
        <br><br>
        Deuxi√®mement, une meilleure convergence : la r√©troaction stabilise le syst√®me num√©rique.
        <br><br>
        Troisi√®mement, un r√©alisme accru : nous reproduisons fid√®lement le continuum sol-plante-atmosph√®re.
        <br><br>
        Au final, nous obtenons des simulations plus stables, pr√©cises et repr√©sentatives des processus r√©els.
    </aside> -->
<!-- </section> -->